Depth first search algo. with tree structure
